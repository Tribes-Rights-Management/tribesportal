/**
 * ═══════════════════════════════════════════════════════════════════════════════
 * TRIBES CANONICAL THEME — Console Light (Stripe-like) + Dark Mode Support
 * ═══════════════════════════════════════════════════════════════════════════════
 * 
 * DEFAULT: Console Light
 * - Soft neutral canvas with white surfaces
 * - Stripe-like institutional aesthetic
 * - Subtle borders, no heavy shadows
 * - Brand blue (#0071E3) ONLY for focus/hover/links
 * 
 * DARK MODE (.dark class):
 * - Reserved for optional preference
 * - YouTube Studio-inspired soft dark
 * 
 * ENFORCEMENT:
 * - No component may hardcode colors outside these tokens
 * - All backgrounds must derive from --app-* or --tribes-* tokens
 * - All text must derive from --tribes-fg / --tribes-fg-secondary / --tribes-fg-muted
 * 
 * This file is the single source of truth for the Tribes color system.
 * ═══════════════════════════════════════════════════════════════════════════════
 */

:root {
  /* ═══════════════════════════════════════════════════════════════════════════
     CONSOLE LIGHT — Default Theme (Stripe-like)
     Soft canvas, white surfaces, subtle borders, institutional restraint
     ═══════════════════════════════════════════════════════════════════════════ */

  /* ─────────────────────────────────────────────────────────────────────────
     APP CHROME TOKENS — Header, Sidebar, Shell
     ───────────────────────────────────────────────────────────────────────── */
  
  /* Canvas: Warm neutral background for authenticated app */
  --app-canvas-bg: #F5F4F2;
  
  /* Surface: White for cards, tables, content areas */
  --app-surface-bg: #FFFFFF;
  
  /* Surface border: Subtle but visible (~10-12% black) */
  --app-surface-border: #E0E0E0;
  
  /* Sidebar: Near-white, subtle separation from canvas */
  --app-sidebar-bg: #FFFFFF;
  
  /* Header: White with subtle bottom border */
  --app-header-bg: #FFFFFF;
  
  /* Chrome border: Subtle divider for header/sidebar edges */
  --app-chrome-border: #E5E7EB;
  
  /* Radius: Stripe-like restraint (10-12px) */
  --app-radius: 10px;
  --app-radius-sm: 8px;
  
  /* Focus ring: Brand blue for accessibility */
  --app-focus: #0071E3;

  /* ─────────────────────────────────────────────────────────────────────────
     MERCURY SHELL TOKENS — Help Workstation (No Blue)
     ───────────────────────────────────────────────────────────────────────── */
  
  /* Shell background: Warm neutral canvas (no cool cast) */
  --tribes-shell-bg: #F5F4F2;
  
  /* Header: Pure white top bar */
  /* --tribes-header-bg already defined below */
  
  /* Sidebar: Soft gray nav panel */
  --tribes-sidebar-bg-mercury: #F4F5F7;
  
  /* Borders: Thin subtle separators */
  --tribes-border-subtle: #E5E7EB;
  
  /* Nav states */
  --tribes-nav-hover: #EEF0F3;
  --tribes-nav-active: #E9ECF0;
  
  /* Control styling */
  --tribes-control-bg: #FFFFFF;
  --tribes-control-border: #E5E7EB;
  --tribes-control-placeholder: #9CA3AF;
  
  /* Neutral focus ring (NO BLUE) */
  --tribes-focus-ring-neutral: rgba(17, 24, 39, 0.25);
  
  /* ─────────────────────────────────────────────────────────────────────────
     LEGACY TOKENS — Maintained for compatibility
     ───────────────────────────────────────────────────────────────────────── */
  
  /* Page background: Warm neutral canvas */
  --tribes-bg: #F5F4F2;
  --tribes-bg-page: #F5F4F2;
  
  /* Header/sidebar - now light (Console Light mode) */
  --tribes-header-bg: #FFFFFF;
  --tribes-sidebar-bg: #FFFFFF;

  /* ─────────────────────────────────────────────────────────────────────────
     TEXT HIERARCHY — High contrast for readability
     ───────────────────────────────────────────────────────────────────────── */

  /* Primary text: Near-black for excellent readability */
  --tribes-fg: #111827;
  --tribes-text: #111827;

  /* Secondary text: Medium gray */
  --tribes-fg-secondary: #6B7280;
  --tribes-text-secondary: #6B7280;

  /* Muted text: Light gray for labels, captions */
  --tribes-fg-muted: #9CA3AF;
  --tribes-text-muted: #9CA3AF;

  /* ─────────────────────────────────────────────────────────────────────────
     SURFACE SYSTEM — White surfaces on soft canvas
     ───────────────────────────────────────────────────────────────────────── */

  /* Card/panel surface: Pure white */
  --tribes-card: #FFFFFF;
  --tribes-surface: #FFFFFF;

  /* Card border: Visible separation (~10-12% black) */
  --tribes-card-border: #E0E0E0;

  /* Table surface: White (same as cards for consistency) */
  --tribes-surface-table: #FFFFFF;

  /* Elevated surface: Slightly off-white for nested content */
  --tribes-surface-elevated: #F9FAFB;

  /* Nested surface: tertiary elevation */
  --tribes-surface-nested: #F3F4F6;

  /* ─────────────────────────────────────────────────────────────────────────
     BORDERS & DIVIDERS — Clean, subtle (Stripe-like)
     ───────────────────────────────────────────────────────────────────────── */

  /* Hairline borders */
  --tribes-border: #E5E7EB;

  /* Divider: same as border for consistency */
  --tribes-divider: #E5E7EB;

  /* Strong borders: emphasized separation */
  --tribes-border-strong: #D1D5DB;

  /* Soft shadow: subtle lift for cards */
  --tribes-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);

  /* ─────────────────────────────────────────────────────────────────────────
     INTERACTIVE STATES — Clear hover/focus feedback
     ───────────────────────────────────────────────────────────────────────── */

  /* Focus ring: Brand blue */
  --tribes-focus-ring: #0071E3;

  /* Hover state: Very subtle wash */
  --tribes-hover: #F3F4F6;

  /* Active state: pressed feedback */
  --tribes-active: #E5E7EB;
}

/* ═══════════════════════════════════════════════════════════════════════════════
   DARK MODE — Applied via .dark class on <html>
   YouTube Studio-inspired soft dark (optional preference)
   ═══════════════════════════════════════════════════════════════════════════════ */

.dark {
  /* App chrome tokens - dark mode */
  --app-canvas-bg: #181818;
  --app-surface-bg: #212121;
  --app-surface-border: #303030;
  --app-sidebar-bg: #1E1E1E;
  --app-header-bg: #1E1E1E;
  --app-chrome-border: #303030;
  --app-focus: #0071E3;
  
  /* Legacy tokens */
  --tribes-bg: #181818;
  --tribes-bg-page: #181818;
  --tribes-header-bg: #1E1E1E;
  --tribes-sidebar-bg: #1E1E1E;

  /* Text hierarchy */
  --tribes-fg: #FFFFFF;
  --tribes-text: #FFFFFF;
  --tribes-fg-secondary: #AAAAAA;
  --tribes-text-secondary: #AAAAAA;
  --tribes-fg-muted: #717171;
  --tribes-text-muted: #717171;

  /* Surface system */
  --tribes-card: #212121;
  --tribes-surface: #212121;
  --tribes-card-border: #303030;
  --tribes-surface-table: #1E1E1E;
  --tribes-surface-elevated: #282828;
  --tribes-surface-nested: #2D2D2D;

  /* Borders & dividers */
  --tribes-border: #303030;
  --tribes-divider: #303030;
  --tribes-border-strong: #404040;
  --tribes-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);

  /* Interactive states */
  --tribes-focus-ring: #0071E3;
  --tribes-hover: #282828;
  --tribes-active: #303030;
}

/* iOS underlay rule - ensures underlay uses exact background */
#ios-underlay {
  background: var(--tribes-bg) !important;
}
